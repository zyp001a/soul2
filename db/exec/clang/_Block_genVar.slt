~
#var = scopeGet($env.envExec, "_var")
#varname = scopeGet($env.envExec, "_varname")
#filter = {}
Arr#x = #1;
@if(x){
 @each _ v x{
  filter[v] = 1
 }
}

@each k v #0.blockStateDef.schema() {
 @if(!filter.hasKey(k)){
  ~~:call(var, [varname(k), v], $env)~
~
 }
}
~